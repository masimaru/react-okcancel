// 변수 정의
$anim-duration: 400ms;
$anim-ease-in: cubic-bezier(0.175, 0.885, 0.32, 1.275); // 들어오는 스프링 효과
$anim-ease-out: cubic-bezier(0.68, -0.55, 0.265, 1.55); // 나가는 스프링 효과

// 접근성 대응 (모션 줄이기)
@media (prefers-reduced-motion: reduce) {
  $anim-duration: 1ms;
}

.overlay {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: var(--okcancel-z-index);
  background-color: var(--okcancel-overlay-bg);

  &[data-phase='enter'] {
    animation: okcancel-fade-in $anim-duration $anim-ease-in forwards;
  }

  &[data-phase='exit'] {
    animation: okcancel-fade-out $anim-duration $anim-ease-out forwards;
  }
}

.dialog {
  background: var(--okcancel-dialog-bg);
  border-radius: var(--okcancel-dialog-border-radius);
  box-shadow: var(--okcancel-dialog-shadow);
  max-width: var(--okcancel-dialog-max-width);
  min-width: var(--okcancel-dialog-min-width);
  max-height: var(--okcancel-dialog-max-height);
  min-height: var(--okcancel-dialog-min-height);
  width: var(--okcancel-dialog-width);
  height: var(--okcancel-dialog-height);
  border: var(--okcancel-dialog-border);
  padding: var(--okcancel-dialog-padding);

  &[data-animation='true'][data-phase='enter'] {
    animation: okcancel-slide-in $anim-duration $anim-ease-in forwards;
  }

  &[data-animation='true'][data-phase='exit'] {
    animation: okcancel-slide-out $anim-duration $anim-ease-out forwards;
  }

  &[data-animation='false'] {
    // 애니메이션 없이 즉시 표시
    transform: translateY(0);
  }

  .content {
    display: flex;
    flex-direction: var(--okcancel-content-flex-direction);
    justify-content: var(--okcancel-content-justify-content);
    align-items: var(--okcancel-content-align-items);
    gap: var(--okcancel-content-gap);
    padding: var(--okcancel-content-padding);
    height: var(--okcancel-content-height);
    max-height: var(--okcancel-content-max-height);
    min-height: var(--okcancel-content-min-height);

    .title {
      font-size: var(--okcancel-title-font-size);
      font-weight: var(--okcancel-title-font-weight);
      color: var(--okcancel-title-color);
    }

    .description {
      font-size: var(--okcancel-description-font-size);
      font-weight: var(--okcancel-description-font-weight);
      color: var(--okcancel-description-color);
    }
  }

  .close-button {
    position: absolute;
    top: 8px;
    right: 8px;
    background: transparent;
    border: none;
    font-size: 20px;
    cursor: pointer;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #000;
  }

  .btn-box {
    display: flex;
    flex-direction: var(--okcancel-btn-box-flex-direction);
    justify-content: var(--okcancel-btn-box-justify-content);
    align-items: var(--okcancel-btn-box-align-items);
    gap: var(--okcancel-btn-box-gap);
    padding: var(--okcancel-btn-box-padding);
    height: var(--okcancel-btn-box-height);

    button {
      border: var(--okcancel-button-border);
      border-radius: var(--okcancel-button-border-radius);
      box-shadow: var(--okcancel-button-box-shadow);
      padding: var(--okcancel-button-padding);
      font-size: var(--okcancel-button-font-size);
      font-weight: var(--okcancel-button-font-weight);
      text-align: var(--okcancel-button-text-align);
      cursor: pointer;
      min-width: var(--okcancel-button-min-width);
      max-width: var(--okcancel-button-max-width);
      width: var(--okcancel-button-width);
      height: var(--okcancel-button-height);
      flex: var(--okcancel-button-flex);

      &.button-primary {
        background-color: var(--okcancel-button-primary-bg);
        color: var(--okcancel-button-primary-color);
        border: var(--okcancel-button-primary-border);
      }

      &.button-secondary {
        background-color: var(--okcancel-button-secondary-bg);
        color: var(--okcancel-button-secondary-color);
        border: var(--okcancel-button-secondary-border);
      }
    }
  }
}

@keyframes okcancel-fade-in {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}
@keyframes okcancel-fade-out {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
  }
}
@keyframes okcancel-slide-in {
  from {
    transform: translateY(50vh);
  }

  to {
    transform: translateY(0);
  }
}
@keyframes okcancel-slide-out {
  from {
    transform: translateY(0);
  }

  to {
    transform: translateY(50vh);
  }
}
